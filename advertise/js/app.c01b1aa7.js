(function(t){function e(e){for(var i,s,o=e[0],u=e[1],d=e[2],c=0,p=[];c<o.length;c++)s=o[c],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);l&&l(e);while(p.length)p.shift()();return r.push.apply(r,d||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,s=1;s<n.length;s++){var u=n[s];0!==a[u]&&(i=!1)}i&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},a={app:0},r=[];function s(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"d70fc3b2"}[t]+".js"}function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n=a[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,i){n=a[t]=[e,i]}));e.push(n[2]=i);var r,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=s(t);var d=new Error;r=function(e){u.onerror=u.onload=null,clearTimeout(c);var n=a[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",d.name="ChunkLoadError",d.type=i,d.request=r,n[1](d)}a[t]=void 0}};var c=setTimeout((function(){r({type:"timeout",target:u})}),12e4);u.onerror=u.onload=r,document.head.appendChild(u)}return Promise.all(e)},o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=e,u=u.slice();for(var c=0;c<u.length;c++)e(u[c]);var l=d;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"0566":function(t,e,n){t.exports=n.p+"img/14.7c1a2aaf.png"},"07ae":function(t,e,n){},"0ca1":function(t,e,n){t.exports=n.p+"img/1.745f20cc.png"},"0cc5":function(t,e,n){t.exports=n.p+"img/12.7eef1e35.png"},1:function(t,e){},10:function(t,e){},11:function(t,e){},1105:function(t,e,n){t.exports=n.p+"img/4.8295cd8c.png"},1115:function(t,e,n){},12:function(t,e){},13:function(t,e){},14:function(t,e){},15:function(t,e){},"15b3":function(t,e,n){t.exports=n.p+"img/9.6c869050.png"},16:function(t,e){},17:function(t,e){},18:function(t,e){},19:function(t,e){},"1e03":function(t,e,n){},2:function(t,e){},20:function(t,e){},21:function(t,e){},2175:function(t,e,n){t.exports=n.p+"img/6.7c599797.png"},"2a2b":function(t,e,n){t.exports=n.p+"img/22.02892a7c.png"},3:function(t,e){},"34bf":function(t,e,n){t.exports=n.p+"img/7.668a8780.png"},4:function(t,e){},5:function(t,e){},"53fe":function(t,e,n){"use strict";n("df75")},"56d7":function(t,e,n){"use strict";n.r(e);n("a79d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" | "),n("router-link",{attrs:{to:"/about"}},[t._v("About")])],1),n("router-view")],1)},r=[],s=(n("034f"),n("2877")),o={},u=Object(s["a"])(o,a,r,!1,null,null,null),d=u.exports,c=n("9483");Object(c["a"])("service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var l=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("sui-container",{staticClass:"cont"},[n("div",{staticClass:"home"},[n("Profile"),n("sui-grid",{attrs:{divided:""}},[n("sui-grid-row",{attrs:{columns:2}},[n("sui-grid-column",{attrs:{black:"",width:11}},[n("Main")],1),n("sui-grid-column",{attrs:{width:5}},[n("Activity")],1)],1),n("sui-grid-row",{attrs:{columns:1}},[n("sui-grid-column",{attrs:{width:11}},[n("AddAdvertiseButton")],1)],1)],1)],1)])},m=[],g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("sui-grid",{attrs:{columns:2}},[n("sui-grid-row",{attrs:{stretched:""}},[n("sui-grid-column",{attrs:{width:2}},[n("sui-image",{staticStyle:{"background-color":"#F2F2F2"},attrs:{avatar:"",src:t.randomAvatar,circular:"",shape:"circular",size:"tiny"}})],1),n("sui-grid-column",{attrs:{width:14}},[n("sui-segment",{attrs:{piled:""}},[n("sui-grid",[n("sui-grid-row",{attrs:{columns:2}},[n("sui-grid-column",[t._v(" Mohammad Ali Shahsavand ")])],1),n("sui-grid-row",{attrs:{columns:3}},[n("sui-grid-column",[t._v(" Wallet Addres "+t._s(t.mineAdd))]),n("sui-grid-column"),n("sui-grid-column")],1)],1)],1)],1)],1)],1)},f=[];const h=n("99e5");var y;if(window.ethereum){y=new h(window.ethereum);try{window.ethereum.enable().then((function(){}))}catch(lt){}}else window.web3&&(y=new h(y.currentProvider));var v=new y.eth.Contract([{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"ads",outputs:[{internalType:"contract Ad",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_ad",type:"address"}],name:"claimAdRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_ad",type:"address"}],name:"getAdContents",outputs:[{internalType:"string",name:"_adLink",type:"string"},{internalType:"string",name:"_adCategory",type:"string"},{internalType:"string",name:"_adRegion",type:"string"},{components:[{internalType:"uint256",name:"year",type:"uint256"},{internalType:"uint256",name:"month",type:"uint256"},{internalType:"uint256",name:"day",type:"uint256"}],internalType:"struct Library.SimpleDate",name:"_startDate",type:"tuple"},{components:[{internalType:"uint256",name:"year",type:"uint256"},{internalType:"uint256",name:"month",type:"uint256"},{internalType:"uint256",name:"day",type:"uint256"}],internalType:"struct Library.SimpleDate",name:"_endDate",type:"tuple"},{internalType:"uint256",name:"_budget",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_participant",type:"address"},{internalType:"address",name:"_ad",type:"address"}],name:"getAdReceivedCount",outputs:[{internalType:"uint256",name:"_recCount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_ad",type:"address"}],name:"getAdReceivers",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_ad",type:"address"}],name:"getAdRegion",outputs:[{internalType:"string",name:"_region",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_ad",type:"address"}],name:"getAdResults",outputs:[{internalType:"uint256",name:"_numOfAdRecievers",type:"uint256"},{internalType:"uint256",name:"_numOfConversions",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getListOfAds",outputs:[{internalType:"address[]",name:"",type:"address[]"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_subject",type:"string"}],name:"getScoreInSubject",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_cat",type:"string"}],name:"getSeedsInCategory",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_category",type:"string"},{internalType:"string",name:"_geographicalArea",type:"string"},{internalType:"string",name:"_link",type:"string"},{internalType:"uint256",name:"startYear",type:"uint256"},{internalType:"uint256",name:"startMonth",type:"uint256"},{internalType:"uint256",name:"startDay",type:"uint256"},{internalType:"uint256",name:"endYear",type:"uint256"},{internalType:"uint256",name:"endMonth",type:"uint256"},{internalType:"uint256",name:"endDay",type:"uint256"}],name:"orderAd",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"receiversInAds",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_ad",type:"address"},{internalType:"address",name:"_recipient",type:"address"}],name:"sendAd",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"address",name:"_ad",type:"address"},{internalType:"address",name:"_receiver",type:"address"}],name:"setAdConversionToTrue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"test",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"testFunction",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_participant",type:"address"},{internalType:"address",name:"_ad",type:"address"}],name:"updateParticipantPoint",outputs:[{internalType:"uint256",name:"_point",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_participant",type:"address"},{internalType:"string",name:"_subject",type:"string"},{internalType:"uint256",name:"_score",type:"uint256"}],name:"updateScoreInCategory",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_participant",type:"address"},{internalType:"address",name:"_ad",type:"address"}],name:"updateScoreInCategoryOnAdFinish",outputs:[],stateMutability:"nonpayable",type:"function"}],"0x47e2ca8985f0bdce5781f08a3f3c1de5f3646ce9");y.eth.defaultAccount=y.eth.accounts[0],console.log(v);const b=n("99e5");var _={name:"Profile",props:{msg:String},data:function(){return{mineAdd:""}},mounted:function(){var t;if(window.ethereum){t=new b(window.ethereum);try{window.ethereum.enable().then((function(){}))}catch(lt){console.log("errrr",lt)}}this.mineAdd=t.eth.currentProvider.selectedAddress},computed:{randomAvatar:function(){var t=Math.floor(24*Math.random())+1;return n("9e01")("./"+t+".png")},myAddress:function(){var t=web3.eth.currentProvider.selectedAddress;return console.log("myAddress::::::::",t),t}}},w=_,A=(n("89cb"),Object(s["a"])(w,g,f,!1,null,"fe321d6a",null)),T=A.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.ads?n("div",[n("sui-label",{tag:"a",attrs:{color:"teal",ribbon:""}},[t._v(" Advertises ")]),n("sui-tab",{attrs:{menu:{secondary:!0}}},[n("sui-tab-pane",{attrs:{title:"My seed",attached:!1}},[n("sui-list",t._l(t.seedRandomChoosers,(function(e){return n("sui-container",{key:e.id,attrs:{divided:""}},[n("sui-segment",{attrs:{raised:""}},[n("sui-label",{attrs:{attached:"bottom"}},[n("sui-icon",{attrs:{name:"globe"}}),t._v(t._s(e.region))],1),n("sui-label",{attrs:{attached:"bottom right"}},[e.ended?n("span",[t._v(" Ended in "+t._s(e.dateEnd[0])+","+t._s(e.dateEnd[1])+","+t._s(e.dateEnd[2])+" "),n("sui-icon",{attrs:{name:"calendar check outline icon",loading:"",color:"green"}})],1):t._e(),e.inProgress?n("span",[t._v(" InProgress "),n("sui-icon",{attrs:{name:"spinner",loading:"",color:"orange"}})],1):t._e(),e.noStarted?n("span",[t._v(" Will start in "+t._s(e.dateStart[0])+","+t._s(e.dateStart[1])+","+t._s(e.dateStart[2])),n("sui-icon",{attrs:{name:"calendar alternate outline",loading:"",color:"blue"}})],1):t._e()]),n("sui-label",{tag:"a",attrs:{color:"red",ribbon:""}},[n("b",[t._v(" Id: ")]),t._v(" "+t._s(e.id)+" ")]),e.recCount>0?n("sui-label",{attrs:{color:"teal",floating:""}},[t._v(" "+t._s(e.recCount)+" ")]):t._e(),n("sui-grid",{attrs:{columns:3}},[n("sui-grid-row",[n("sui-grid-column",{attrs:{width:2}},[n("a",{attrs:{href:e.link}},[t._v(" "+t._s(e.link))])]),n("sui-grid-column",{attrs:{width:12}},[n("sui-grid",[n("sui-grid-row",{attrs:{columns:2}},[n("sui-grid-column",[n("sui-label",[n("sui-icon",{attrs:{name:"money bill alternate icon"}}),t._v(" "+t._s(e.budget)+" Ether")],1)],1)],1),n("sui-grid-row",{attrs:{columns:3}},[n("sui-grid-column"),n("sui-grid-column",[n("sui-label",{tag:"a",attrs:{tag:""}},[t._v(" "+t._s(e.category)+" ")])],1),n("sui-grid-column",[n("div",[n("sui-label",{tag:"a",attrs:{color:"pink",tag:""}},[t._v(" Seed ")])],1)])],1)],1)],1),n("sui-grid-column",{attrs:{width:2}},[n("SendAdvertiseButton",{attrs:{adId:e.id}})],1)],1)],1)],1),n("sui-divider")],1)})),1)],1),n("sui-tab-pane",{attrs:{title:"Received inprogress ads",attached:!1}},[n("sui-list",t._l(t.receivedInProgressedAdvertisements,(function(e){return n("sui-container",{key:e.id,attrs:{divided:""}},[n("sui-segment",{attrs:{raised:""}},[n("sui-label",{attrs:{attached:"bottom"}},[n("sui-icon",{attrs:{name:"globe"}}),t._v(t._s(e.region))],1),n("sui-label",{attrs:{attached:"bottom right"}},[e.ended?n("span",[t._v(" Ended in "+t._s(e.dateEnd[0])+","+t._s(e.dateEnd[1])+","+t._s(e.dateEnd[2])+" "),n("sui-icon",{attrs:{name:"calendar check outline icon",loading:"",color:"green"}})],1):t._e(),e.inProgress?n("span",[t._v(" InProgress "),n("sui-icon",{attrs:{name:"spinner",loading:"",color:"orange"}})],1):t._e(),e.noStarted?n("span",[t._v(" Will start in "+t._s(e.dateStart[0])+","+t._s(e.dateStart[1])+","+t._s(e.dateStart[2])),n("sui-icon",{attrs:{name:"calendar alternate outline",loading:"",color:"blue"}})],1):t._e()]),n("sui-label",{tag:"a",attrs:{color:"red",ribbon:""}},[n("b",[t._v(" Id: ")]),t._v(" "+t._s(e.id)+" ")]),e.recCount>0?n("sui-label",{attrs:{color:"teal",floating:""}},[t._v(" "+t._s(e.recCount)+" ")]):t._e(),n("sui-grid",{attrs:{columns:3}},[n("sui-grid-row",[n("sui-grid-column",{attrs:{width:2}},[n("a",{attrs:{href:e.link}},[t._v(" "+t._s(e.link))])]),n("sui-grid-column",{attrs:{width:12}},[n("sui-grid",[n("sui-grid-row",{attrs:{columns:2}},[n("sui-grid-column",[n("sui-label",[n("sui-icon",{attrs:{name:"money bill alternate icon"}}),t._v(" "+t._s(e.budget)+" Ether")],1)],1)],1),n("sui-grid-row",{attrs:{columns:3}},[n("sui-grid-column"),n("sui-grid-column",[n("sui-label",{tag:"a",attrs:{tag:""}},[t._v(" "+t._s(e.category)+" ")])],1),n("sui-grid-column",[e.recForMe?n("div",[n("sui-label",{tag:"a",attrs:{color:"teal",tag:""}},[t._v(" Received ")])],1):t._e()])],1)],1)],1),n("sui-grid-column",{attrs:{width:2}},[n("SendAdvertiseButton",{attrs:{adId:e.id}})],1)],1)],1)],1),n("sui-divider")],1)})),1)],1),n("sui-tab-pane",{attrs:{title:"All ads",attached:!1}},[n("sui-list",t._l(t.allAds,(function(e){return n("sui-container",{key:e.id,attrs:{divided:""}},[n("sui-segment",{attrs:{raised:""}},[n("sui-label",{attrs:{attached:"bottom"}},[n("sui-icon",{attrs:{name:"globe"}}),t._v(t._s(e.region))],1),n("sui-label",{attrs:{attached:"bottom right"}},[e.ended?n("span",[t._v(" Ended in "+t._s(e.dateEnd[0])+","+t._s(e.dateEnd[1])+","+t._s(e.dateEnd[2])+" "),n("sui-icon",{attrs:{name:"calendar check outline icon",loading:"",color:"green"}})],1):t._e(),e.inProgress?n("span",[t._v(" InProgress "),n("sui-icon",{attrs:{name:"spinner",loading:"",color:"orange"}})],1):t._e(),e.noStarted?n("span",[t._v(" Will start in "+t._s(e.dateStart[0])+","+t._s(e.dateStart[1])+","+t._s(e.dateStart[2])),n("sui-icon",{attrs:{name:"calendar alternate outline",loading:"",color:"blue"}})],1):t._e()]),n("sui-label",{tag:"a",attrs:{color:"red",ribbon:""}},[n("b",[t._v(" Id: ")]),t._v(" "+t._s(e.id)+" ")]),e.recCount>0?n("sui-label",{attrs:{color:"teal",floating:""}},[t._v(" "+t._s(e.recCount)+" ")]):t._e(),n("sui-grid",{attrs:{columns:3}},[n("sui-grid-row",[n("sui-grid-column",{attrs:{width:2}},[n("a",{attrs:{href:e.link}},[t._v(" "+t._s(e.link))])]),n("sui-grid-column",{attrs:{width:12}},[n("sui-grid",[n("sui-grid-row",{attrs:{columns:2}},[n("sui-grid-column",[n("sui-label",[n("sui-icon",{attrs:{name:"money bill alternate icon"}}),t._v(" "+t._s(e.budget)+" Ether")],1)],1)],1),n("sui-grid-row",{attrs:{columns:3}},[n("sui-grid-column"),n("sui-grid-column",[n("sui-label",{tag:"a",attrs:{tag:""}},[t._v(" "+t._s(e.category)+" ")])],1),n("sui-grid-column",[e.recForMe?n("div",[n("sui-label",{tag:"a",attrs:{color:"teal",tag:""}},[t._v(" Received ")])],1):t._e()])],1)],1)],1),n("sui-grid-column",{attrs:{width:2}},[n("SendAdvertiseButton",{attrs:{adId:e.id}})],1)],1)],1)],1),n("sui-divider")],1)})),1)],1)],1)],1):t._e()},M=[],x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("sui-button",{attrs:{fluid:"",color:"green",content:"Send",loading:t.loading},nativeOn:{click:function(e){return t.toggle(e)}}}),n("sui-modal",{model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[n("sui-modal-header",[t._v("Select a Photo")]),n("sui-modal-content",{attrs:{image:""}},[n("sui-modal-description",[n("sui-header",[t._v("Select Receiver")]),n("p",[t._v("Set or choose the receivers' address of this advertise.")]),n("sui-input",{attrs:{placeholder:"Address"},model:{value:t.recAdd,callback:function(e){t.recAdd=e},expression:"recAdd"}})],1)],1),n("sui-modal-actions",[n("sui-button",{attrs:{positive:""},nativeOn:{click:function(e){return t.click(e)}}},[t._v(" OK ")])],1)],1)],1)},S=[];const C=n("99e5");var E;if(window.ethereum){E=new C(window.ethereum);try{window.ethereum.enable().then((function(){}))}catch(lt){}}var O={name:"SendAdvertiseButton",props:{adId:String},methods:{toggle(){this.open=!this.open},buttonLoading(){this.loading=!this.loading},click:function(){console.log("sd",this.recAdd),this.toggle(),this.loading=!0;try{v.methods.sendAd(this.adId,this.recAdd).send({from:E.eth.currentProvider.selectedAddress}).on("transactionHash",t=>{this.$store.commit("addHashTransaction",{type:"sendAdvertise",hash:t})}).on("confirmation",(t,e)=>{this.$store.commit("addConfirmationActivity",{receipt:e,confirmationNumber:t})}).on("receipt",t=>{console.log(t),this.loading=!1})}catch(t){this.loading=!1,console.log("try, ",t)}}},data(){return{open:!1,recAdd:"",loading:!1}},computed:{randomAvatar:function(){var t=Math.floor(24*Math.random())+1;return n("9e01")("./"+t+".png")}}},P=O,D=(n("53fe"),Object(s["a"])(P,x,S,!1,null,"5bdbed8a",null)),j=D.exports;const L=n("99e5");var I;if(window.ethereum){I=new L(window.ethereum);try{window.ethereum.enable().then((function(){}))}catch(lt){}}var F={name:"Main",components:{SendAdvertiseButton:j},data:function(){return{ads:[],recId:"0x3AEF5014F1cd54d6EAa69E0F5D77f4632dA10B3E"}},props:{msg:String},computed:{allAds:function(){return this.ads.sort((t,e)=>1==t.inProgress&&-1)},seedRandomChoosers:function(){return this.ads.filter(t=>!t.recForMe&&t.inProgress&&Math.random()>.7)},receivedInProgressedAdvertisements:function(){return this.ads.filter(t=>t.recForMe&&t.inProgress).sort((t,e)=>1==t.inProgress&&-1)}},methods:{randomAvatar:function(){var t=Math.floor(24*Math.random())+1;return n("9e01")("./"+t+".png")}},mounted:function(){console.log(v);var t=this;v.methods.getListOfAds().call().then((function(e){for(var n=0;n<e[1];n++){let i=e[0][n];v.methods.getAdContents(i).call().then((function(e){console.log("connnn",e),v.methods.getAdReceivers(i).call().then((function(n){var a=I.eth.currentProvider.selectedAddress;const r=n.map(t=>t.toLowerCase());v.methods.getAdReceivedCount(a,i).call().then((function(s){let o=new Date,u=new Date(e[3][0],e[3][1],e[3][2]),d=new Date(e[4][0],e[4][1],e[4][2]),c={id:i,link:e[0],category:e[1],region:e[2],dateStart:e[3],dateEnd:e[4],budget:e[5],recArray:n,recForMe:r.includes(a.toLowerCase()),recCount:s,ended:d<o,inProgress:d>o&&u<o,noStarted:u>o};console.log(i),t.ads.push(c),console.log("ads",t.ads)}))}))}))}}))}},R=F,N=(n("efd5"),Object(s["a"])(R,k,M,!1,null,"40593747",null)),H=N.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.activityList.length>0?n("sui-segment",{attrs:{basic:""}},[n("sui-label",{tag:"a",attrs:{color:"blue",ribbon:""}},[t._v(" Activities ")]),t._l(t.activityList,(function(e){return n("sui-list",{key:e.hash},["addAdvertise"==e.type?n("sui-message",{attrs:{color:"olive"}},[n("sui-message-header",[n("i",{staticClass:"share circle icon"}),t._v(" Add new advertises' transaction")]),n("sui-message-list",[e.hash?n("sui-message-item",[t._v(" Transaction hash is "+t._s(e.hash.substr(0,30))+" ... ")]):t._e(),n("sui-message-item",[t._v(" Deployed transactions' time is "+t._s(t.timeDisplayed(e.time))+" ")]),e.confirmationNumber?n("sui-message-item",[t._v(" "+t._s(e.confirmationNumber)+" Block confirmations ")]):t._e()],1)],1):t._e(),"sendAdvertise"==e.type?n("sui-message",{attrs:{color:"blue"}},[n("sui-message-header",[n("i",{staticClass:"share circle icon"}),t._v(" Send advertises' transaction")]),n("sui-message-list",[e.hash?n("sui-message-item",[t._v(" Transaction hash is "+t._s(e.hash.substr(0,30))+" ... ")]):t._e(),e.confirmationNumber?n("sui-message-item",[t._v(" "+t._s(e.confirmationNumber)+" Block confirmations ")]):t._e(),n("sui-message-item",[t._v(" Deployed transactions' time is "+t._s(t.timeDisplayed(e.time))+" ")])],1)],1):t._e()],1)}))],2):t._e()},B=[],$={name:"Activity",props:{msg:String},methods:{timeDisplayed:function(t){var e=new Date(t);return e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}},computed:{activityList:function(){return this.$store.getters.activities}}},G=$,W=(n("e18d"),Object(s["a"])(G,Y,B,!1,null,"659670d2",null)),q=W.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("sui-button",{attrs:{fluid:"",color:"purple",content:"Add advertise",loading:t.loading},nativeOn:{click:function(e){return t.toggle(e)}}}),n("sui-modal",{model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[n("sui-modal-header",[t._v("Select Receive")]),n("sui-modal-content",{attrs:{image:""}},[n("sui-modal-description",[n("p",[t._v("Set or choose the receivers' address of this advertise.")]),n("sui-form",[n("sui-form-field",[n("sui-input",{attrs:{placeholder:"Category"},model:{value:t.Category,callback:function(e){t.Category=e},expression:"Category"}})],1),n("sui-form-field",[n("sui-input",{attrs:{placeholder:"GeographicalArea"},model:{value:t.GeographicalArea,callback:function(e){t.GeographicalArea=e},expression:"GeographicalArea"}})],1),n("sui-form-field",[n("sui-input",{attrs:{placeholder:"Link"},model:{value:t.Link,callback:function(e){t.Link=e},expression:"Link"}})],1),n("sui-form-field",[n("sui-input",{attrs:{placeholder:"Budget"},model:{value:t.budget,callback:function(e){t.budget=e},expression:"budget"}})],1),n("sui-form-field",[n("sui-input",{attrs:{placeholder:"startYear"},model:{value:t.startYear,callback:function(e){t.startYear=e},expression:"startYear"}})],1),n("sui-form-field",[n("sui-input",{attrs:{placeholder:"startMonth"},model:{value:t.startMonth,callback:function(e){t.startMonth=e},expression:"startMonth"}})],1),n("sui-form-field",[n("sui-input",{attrs:{placeholder:"startDay"},model:{value:t.startDay,callback:function(e){t.startDay=e},expression:"startDay"}})],1),n("sui-form-field",[n("sui-input",{attrs:{placeholder:"endYear"},model:{value:t.endYear,callback:function(e){t.endYear=e},expression:"endYear"}})],1),n("sui-form-field",[n("sui-input",{attrs:{placeholder:"endMonth"},model:{value:t.endMonth,callback:function(e){t.endMonth=e},expression:"endMonth"}})],1),n("sui-form-field",[n("sui-input",{attrs:{placeholder:"endDay"},model:{value:t.endDay,callback:function(e){t.endDay=e},expression:"endDay"}})],1)],1)],1)],1),n("sui-modal-actions",[n("sui-button",{attrs:{positive:"",loading:t.loading},nativeOn:{click:function(e){return t.click(e)}}},[t._v(" Add ")])],1)],1)],1)},U=[];const z=n("99e5");var K;if(window.ethereum){K=new z(window.ethereum);try{window.ethereum.enable().then((function(){}))}catch(lt){}}var Q={name:"AddAdvertiseButton",props:{msg:String},data(){return{open:!1,loading:!1,Category:"",Link:"",GeographicalArea:"",budget:0,startYear:"",startMonth:"",startDay:"",endYear:"",endMonth:"",endDay:""}},methods:{toggle(){console.log("inja"),this.open=!this.open},buttonLoading(){this.loading=!this.loading},click:function(t){console.log("sd",v),this.toggle(),this.loading=!0;try{v.methods.orderAd(this.Category,this.GeographicalArea,this.Link,this.startYear,this.startMonth,this.startDay,this.endYear,this.endMonth,this.endDay).send({from:K.eth.currentProvider.selectedAddress,value:this.budget}).on("transactionHash",t=>{this.$store.commit("addHashTransaction",{type:"addAdvertise",hash:t}),console.log("hash",t)}).on("confirmation",(t,e)=>{this.$store.commit("addConfirmationActivity",{receipt:e,confirmationNumber:t}),console.log("ON confirmation:",this,t)}).on("receipt",t=>{console.log(t),this.loading=!1}).on("error",t=>{this.loading=!1,console.log("error",t)})}catch(e){this.loading=!1,console.log("try, ",e)}}},computed:{randomAvatar:function(){var t=Math.floor(24*Math.random())+1;return n("9e01")("./"+t+".png")}}},V=Q,X=(n("8bc0"),Object(s["a"])(V,J,U,!1,null,"58ee835e",null)),Z=X.exports,tt={name:"Home",components:{Main:H,Activity:q,Profile:T,AddAdvertiseButton:Z},methods:{greet:function(t){alert("Hello "+this.name+"!"),t&&alert(t.target.tagName)}}},et=tt,nt=Object(s["a"])(et,p,m,!1,null,null,null),it=nt.exports;i["a"].use(l["a"]);const at=[{path:"/",name:"Home",component:it},{path:"/about",name:"About",component:()=>n.e("about").then(n.bind(null,"f820"))}],rt=new l["a"]({routes:at});var st=rt,ot=(n("ddb0"),n("2f62"));i["a"].use(ot["a"]);var ut=new ot["a"].Store({state:{adEvents:[],adActivity:[]},getters:{activities:t=>t.adActivity.sort((t,e)=>t.time>e.time?-1:t.time<e.time?1:0)},mutations:{addAd(t,e){t.adAd.push(e)},addErrorActivity(t,e){t.adActivity.push({type:"error",message:e})},addHashTransaction(t,e){t.adActivity.push({type:e.type,hash:e.hash,time:Date.now()})},addConfirmationActivity(t,e){console.log("in store",e);try{t.adActivity=[...t.adActivity.filter(t=>t.hash!==e.receipt.transactionHash),{hash:e.receipt.transactionHash,type:t.adActivity.filter(t=>t.hash===e.receipt.transactionHash)[0].type,time:t.adActivity.filter(t=>t.hash===e.receipt.transactionHash)[0].time,confirmationNumber:e.confirmationNumber,receipt:e.receipt}]}catch(n){console.log(n)}}},actions:{},modules:{}}),dt=(n("c4ca"),n("080a")),ct=n.n(dt);i["a"].use(ct.a),i["a"].config.productionTip=!1,new i["a"]({router:st,store:ut,render:t=>t(d)}).$mount("#app")},"578b":function(t,e,n){t.exports=n.p+"img/11.46942781.png"},"5d8c":function(t,e,n){t.exports=n.p+"img/10.b4261a2a.png"},6:function(t,e){},"64a6":function(t,e,n){t.exports=n.p+"img/20.4a62a39b.png"},"6e75":function(t,e,n){t.exports=n.p+"img/23.ac010833.png"},7:function(t,e){},8:function(t,e){},"85ec":function(t,e,n){},8709:function(t,e,n){t.exports=n.p+"img/16.1f1b434c.png"},"89cb":function(t,e,n){"use strict";n("07ae")},"8bc0":function(t,e,n){"use strict";n("f428")},9:function(t,e){},9310:function(t,e,n){t.exports=n.p+"img/5.5ee7f07b.png"},"9c84":function(t,e,n){t.exports=n.p+"img/21.229e1fe3.png"},"9d6d":function(t,e,n){t.exports=n.p+"img/17.77170dc7.png"},"9e01":function(t,e,n){var i={"./1.png":"0ca1","./10.png":"5d8c","./11.png":"578b","./12.png":"0cc5","./13.png":"c1a1","./14.png":"0566","./15.png":"f954","./16.png":"8709","./17.png":"9d6d","./18.png":"f000","./19.png":"c070","./2.png":"b9af","./20.png":"64a6","./21.png":"9c84","./22.png":"2a2b","./23.png":"6e75","./24.png":"f05a","./3.png":"c2e4","./4.png":"1105","./5.png":"9310","./6.png":"2175","./7.png":"34bf","./8.png":"f8bf","./9.png":"15b3","./logo.png":"cf05"};function a(t){var e=r(t);return n(e)}function r(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=r,t.exports=a,a.id="9e01"},b9af:function(t,e,n){t.exports=n.p+"img/2.164beb9d.png"},c070:function(t,e,n){t.exports=n.p+"img/19.86f16af6.png"},c1a1:function(t,e,n){t.exports=n.p+"img/13.4e00638c.png"},c2e4:function(t,e,n){t.exports=n.p+"img/3.eea13eac.png"},cf05:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"},df75:function(t,e,n){},e18d:function(t,e,n){"use strict";n("1e03")},efd5:function(t,e,n){"use strict";n("1115")},f000:function(t,e,n){t.exports=n.p+"img/18.87c763c2.png"},f05a:function(t,e,n){t.exports=n.p+"img/24.922a8af1.png"},f428:function(t,e,n){},f8bf:function(t,e,n){t.exports=n.p+"img/8.6cbb8d2d.png"},f954:function(t,e,n){t.exports=n.p+"img/15.aed460bb.png"}});
//# sourceMappingURL=app.c01b1aa7.js.map